
> gso-insight-platform@0.1.0 dev
> next dev

   ▲ Next.js 15.4.4
   - Local:        http://localhost:3000
   - Network:      http://10.153.20.19:3000
   - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 1146ms
 ✓ Compiled / in 494ms (640 modules)
 GET / 200 in 684ms
 ✓ Compiled /api/analyze in 487ms (934 modules)
🔍 Analyzing https://nike.com with Firecrawl...
🔍 Crawling https://nike.com with Firecrawl...
🎭 Firecrawl failed or returned insufficient content, trying Playwright fallback...
🎭 Starting Playwright crawler for https://nike.com...
✅ Playwright crawling completed for https://nike.com, content length: 3058
✅ Playwright fallback successful for https://nike.com, content length: 3058
✅ Successfully crawled https://nike.com, content length: 3058 { hasMarkdown: true, hasMetadata: true, statusCode: 200 }
🧠 Starting real data analysis for https://nike.com...
📊 Extracted data - Words: 397, Headings: 1, Title: Yes
✅ Real data analysis completed for https://nike.com - Overall Score: 56
✅ undefined scored 56 (Firecrawl analysis)
 POST /api/analyze 200 in 17632ms
💾 Saved analysis for nike.com to database
 ✓ Compiled in 517ms (948 modules)
🔍 Analyzing https://apple.com with Firecrawl...
🔍 Crawling https://apple.com with Firecrawl...
🎭 Firecrawl failed or returned insufficient content, trying Playwright fallback...
🎭 Starting Playwright crawler for https://apple.com...
❌ Playwright crawling failed for https://apple.com: Error [TimeoutError]: page.getAttribute: Timeout 30000ms exceeded.
Call log:
[2m  - waiting for locator('meta[name="description"]')[22m

    at scrapeWithPlaywright (src/lib/playwrightCrawler.ts:59:35)
    at async analyzeWebsiteContent (src/app/api/analyze/route.ts:101:31)
    at async POST (src/app/api/analyze/route.ts:417:21)
  57 |     // Extract metadata
  58 |     const title = await page.title();
> 59 |     const description = await page.getAttribute('meta[name="description"]', 'content') || 
     |                                   ^
  60 |                        await page.getAttribute('meta[property="og:description"]', 'content') || '';
  61 |     
  62 |     // Get HTML content
Both Firecrawl and Playwright failed: {
  firecrawlError: undefined,
  playwrightError: 'page.getAttribute: Timeout 30000ms exceeded.\n' +
    'Call log:\n' +
    `\x1B[2m  - waiting for locator('meta[name="description"]')\x1B[22m\n`
}
Firecrawl error details: {
  message: 'Failed to scrape website with both crawlers: page.getAttribute: Timeout 30000ms exceeded.\n' +
    'Call log:\n' +
    `\x1B[2m  - waiting for locator('meta[name="description"]')\x1B[22m\n`,
  status: undefined,
  response: undefined,
  url: 'https://apple.com'
}
✅ apple.com scored 53 (Firecrawl analysis)
 POST /api/analyze 200 in 40368ms
💾 Saved analysis for apple.com to database
 ✓ Compiled in 208ms (677 modules)
🔍 Analyzing https://test.com with Firecrawl...
🔍 Crawling https://test.com with Firecrawl...
🎭 Firecrawl failed or returned insufficient content, trying Playwright fallback...
🎭 Starting Playwright crawler for https://test.com...
❌ Playwright crawling failed for https://test.com: Error [TimeoutError]: page.goto: Timeout 20000ms exceeded.
Call log:
[2m  - navigating to "https://test.com/", waiting until "networkidle"[22m

    at scrapeWithPlaywright (src/lib/playwrightCrawler.ts:39:32)
    at async analyzeWebsiteContent (src/app/api/analyze/route.ts:101:31)
    at async POST (src/app/api/analyze/route.ts:418:21)
  37 |     
  38 |     // Navigate to the page
> 39 |     const response = await page.goto(url, {
     |                                ^
  40 |       waitUntil: 'networkidle',
  41 |       timeout: 20000
  42 |     });
Both Firecrawl and Playwright failed: {
  firecrawlError: undefined,
  playwrightError: 'page.goto: Timeout 20000ms exceeded.\n' +
    'Call log:\n' +
    '\x1B[2m  - navigating to "https://test.com/", waiting until "networkidle"\x1B[22m\n'
}
Firecrawl error details: {
  message: 'Failed to scrape website with both crawlers: page.goto: Timeout 20000ms exceeded.\n' +
    'Call log:\n' +
    '\x1B[2m  - navigating to "https://test.com/", waiting until "networkidle"\x1B[22m\n',
  status: undefined,
  response: undefined,
  url: 'https://test.com'
}
🏭 Detected industry for https://test.com: general
✅ test.com scored 44 (Firecrawl analysis)
 POST /api/analyze 200 in 28575ms
💾 Saved analysis for test.com to database
 ✓ Compiled / in 141ms (692 modules)
 GET / 200 in 338ms
🔍 Analyzing https://nike.com with Firecrawl...
🔍 Crawling https://nike.com with Firecrawl...
🎭 Firecrawl failed or returned insufficient content, trying Playwright fallback...
🎭 Starting Playwright crawler for https://nike.com...
✅ Playwright crawling completed for https://nike.com, content length: 3058
✅ Playwright fallback successful for https://nike.com, content length: 3058
✅ Successfully crawled https://nike.com, content length: 3058 { hasMarkdown: true, hasMetadata: true, statusCode: 200 }
🧠 Starting real data analysis for https://nike.com...
📊 Extracted data - Words: 397, Headings: 1, Title: Yes
✅ Real data analysis completed for https://nike.com - Overall Score: 56
✅ undefined scored 56 (Firecrawl analysis)
 POST /api/analyze 200 in 16625ms
💾 Saved analysis for nike.com to database
 ✓ Compiled in 281ms (948 modules)
 GET / 200 in 46ms
🔍 Analyzing https://unknown.xyz with Firecrawl...
🔍 Crawling https://unknown.xyz with Firecrawl...
🎭 Firecrawl failed or returned insufficient content, trying Playwright fallback...
🎭 Starting Playwright crawler for https://unknown.xyz...
✅ Playwright crawling completed for https://unknown.xyz, content length: 42
✅ Playwright fallback successful for https://unknown.xyz, content length: 42
✅ Successfully crawled https://unknown.xyz, content length: 42 { hasMarkdown: true, hasMetadata: true, statusCode: 200 }
⚠️ Content too short (42 chars), using fallback analysis
🏭 Detected industry for https://unknown.xyz: general
📊 Benchmark for aiRecommendationRate in general: {
  industryAverage: 58,
  overallAverage: 58,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for competitiveRanking in general: {
  industryAverage: 62,
  overallAverage: 62,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for contentRelevance in general: {
  industryAverage: 65,
  overallAverage: 65,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for brandMentionQuality in general: {
  industryAverage: 59,
  overallAverage: 59,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for searchCompatibility in general: {
  industryAverage: 67,
  overallAverage: 67,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for websiteAuthority in general: {
  industryAverage: 61,
  overallAverage: 61,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
✅ unknown.xyz scored 61 (Firecrawl analysis)
 POST /api/analyze 200 in 11496ms
💾 Saved analysis for unknown.xyz to database
 ✓ Compiled in 238ms (948 modules)
 GET / 200 in 31ms
 ✓ Compiled in 173ms (948 modules)
 GET / 200 in 36ms
 ✓ Compiled in 275ms (948 modules)
 GET / 200 in 62ms
 ✓ Compiled in 285ms (948 modules)
 GET / 200 in 43ms
 ✓ Compiled in 279ms (655 modules)
 GET / 200 in 92ms
 ✓ Compiled /api/analyze in 101ms (692 modules)
🔍 Analyzing https://test123.com with Firecrawl...
🔍 Crawling https://test123.com with Firecrawl...
Firecrawl error details: {
  message: 'Failed to scrape URL. Status code: 500. Error: (Internal server error) - DNS resolution failed for hostname: test123.com. Please check if the domain is valid and accessible.',
  status: undefined,
  response: undefined,
  url: 'https://test123.com'
}
🏭 Detected industry for https://test123.com: general
📊 Benchmark for aiRecommendationRate in general: {
  industryAverage: 67,
  overallAverage: 58,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for competitiveRanking in general: {
  industryAverage: 71,
  overallAverage: 62,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for contentRelevance in general: {
  industryAverage: 75,
  overallAverage: 65,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for brandMentionQuality in general: {
  industryAverage: 68,
  overallAverage: 59,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for searchCompatibility in general: {
  industryAverage: 77,
  overallAverage: 67,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for websiteAuthority in general: {
  industryAverage: 70,
  overallAverage: 61,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
✅ test123.com scored 59 (Firecrawl analysis)
 POST /api/analyze 200 in 10999ms
💾 Saved analysis for test123.com to database
 GET / 200 in 137ms
🔍 Analyzing https://nike.com with Firecrawl...
🔍 Crawling https://nike.com with Firecrawl...
🎭 Firecrawl failed or returned insufficient content, trying Playwright fallback...
🎭 Starting Playwright crawler for https://nike.com...
✅ Playwright crawling completed for https://nike.com, content length: 3058
✅ Playwright fallback successful for https://nike.com, content length: 3058
✅ Successfully crawled https://nike.com, content length: 3058 { hasMarkdown: true, hasMetadata: true, statusCode: 200 }
🧠 Starting real data analysis for https://nike.com...
📊 Extracted data - Words: 397, Headings: 1, Title: Yes
✅ Real data analysis completed for https://nike.com - Overall Score: 55
✅ undefined scored 55 (Firecrawl analysis)
 POST /api/analyze 200 in 22273ms
💾 Saved analysis for nike.com to database
 GET / 200 in 68ms
📋 Using cached result for nike.com
 POST /api/analyze 200 in 20ms
 ✓ Compiled in 539ms (655 modules)
 ✓ Compiled in 110ms (256 modules)
 ✓ Compiled in 91ms (256 modules)
 ✓ Compiled /api/analyze in 373ms (692 modules)
🔍 Analyzing https://nike.com with Firecrawl...
🔍 Crawling https://nike.com with Firecrawl...
🎭 Firecrawl failed or returned insufficient content, trying Playwright fallback...
🎭 Starting Playwright crawler for https://nike.com...
✅ Playwright crawling completed for https://nike.com, content length: 3058
✅ Playwright fallback successful for https://nike.com, content length: 3058
✅ Successfully crawled https://nike.com, content length: 3058 { hasMarkdown: true, hasMetadata: true, statusCode: 200 }
🧠 Starting real data analysis for https://nike.com...
📊 Extracted data - Words: 397, Headings: 1, Title: Yes
✅ Real data analysis completed for https://nike.com - Overall Score: 56
✅ undefined scored 56 (Firecrawl analysis)
 POST /api/analyze 200 in 20859ms
Database save error: {
  code: '23502',
  details: `Failing row contains (0118c14f-1fda-4e6e-86d8-dcf484ebd495, nike.com, 56, 35, 70, 50, 45, 90, 65, null, null, null, null, 2025-07-28 13:09:13.203+00, Firecrawl, 0, , {}, {"Missing clear H1-H2-H3 heading structure for AI content parsin..., {"Add H2 headings with naturally asked questions from Google's '..., {"Comprehensive content audit using spoken search query optimiza..., {"meta": {"title": "", "cached": false, "realData": true, "wordC..., 2025-07-28 13:09:13.330901+00).`,
  hint: null,
  message: 'null value in column "consistency_score" of relation "analysis_results" violates not-null constraint'
}
🔍 Analyzing https://test123.com with Firecrawl...
🔍 Crawling https://test123.com with Firecrawl...
Firecrawl error details: {
  message: 'Failed to scrape URL. Status code: 500. Error: (Internal server error) - DNS resolution failed for hostname: test123.com. Please check if the domain is valid and accessible.',
  status: undefined,
  response: undefined,
  url: 'https://test123.com'
}
🏭 Detected industry for https://test123.com: general
📊 Benchmark for aiRecommendationRate in general: {
  industryAverage: 67,
  overallAverage: 58,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for competitiveRanking in general: {
  industryAverage: 71,
  overallAverage: 62,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for contentRelevance in general: {
  industryAverage: 75,
  overallAverage: 65,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for brandMentionQuality in general: {
  industryAverage: 68,
  overallAverage: 59,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for searchCompatibility in general: {
  industryAverage: 77,
  overallAverage: 67,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for websiteAuthority in general: {
  industryAverage: 70,
  overallAverage: 61,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
✅ test123.com scored 59 (Firecrawl analysis)
 POST /api/analyze 200 in 3952ms
💾 Saved analysis for test123.com to database
 GET / 200 in 221ms
🔍 Analyzing https://bobw.co with Firecrawl...
🔍 Crawling https://bobw.co with Firecrawl...
🎭 Firecrawl failed or returned insufficient content, trying Playwright fallback...
🎭 Starting Playwright crawler for https://bobw.co...
✅ Playwright crawling completed for https://bobw.co, content length: 20884
✅ Playwright fallback successful for https://bobw.co, content length: 20884
✅ Successfully crawled https://bobw.co, content length: 20884 { hasMarkdown: true, hasMetadata: true, statusCode: 200 }
🧠 Starting real data analysis for https://bobw.co...
📊 Extracted data - Words: 2765, Headings: 0, Title: Yes
✅ Real data analysis completed for https://bobw.co - Overall Score: 65
✅ undefined scored 65 (Firecrawl analysis)
 POST /api/analyze 200 in 15284ms
Database save error: {
  code: '23502',
  details: `Failing row contains (5c297353-4a73-478b-9535-d287bd63e486, bobw.co, 65, 47, 78, 65, 45, 65, 75, null, null, null, null, 2025-07-28 13:10:29.444+00, Firecrawl, 0, , {}, {"Missing clear H1-H2-H3 heading structure for AI content parsin..., {"Add H2 headings with naturally asked questions from Google's '..., {"Comprehensive content audit using spoken search query optimiza..., {"meta": {"title": "", "cached": false, "realData": true, "wordC..., 2025-07-28 13:10:29.528982+00).`,
  hint: null,
  message: 'null value in column "consistency_score" of relation "analysis_results" violates not-null constraint'
}
🔍 Analyzing https://stripe.com with Firecrawl...
🔍 Crawling https://stripe.com with Firecrawl...
🎭 Firecrawl failed or returned insufficient content, trying Playwright fallback...
🎭 Starting Playwright crawler for https://stripe.com...
✅ Playwright crawling completed for https://stripe.com, content length: 12581
✅ Playwright fallback successful for https://stripe.com, content length: 12581
✅ Successfully crawled https://stripe.com, content length: 12581 { hasMarkdown: true, hasMetadata: true, statusCode: 200 }
🧠 Starting real data analysis for https://stripe.com...
📊 Extracted data - Words: 1507, Headings: 0, Title: Yes
✅ Real data analysis completed for https://stripe.com - Overall Score: 60
✅ undefined scored 60 (Firecrawl analysis)
 POST /api/analyze 200 in 14784ms
Database save error: {
  code: '23502',
  details: `Failing row contains (260d01f3-0589-4290-a493-98a76506844c, stripe.com, 60, 35, 72, 60, 45, 65, 75, null, null, null, null, 2025-07-28 13:14:50.754+00, Firecrawl, 0, , {}, {"Missing clear H1-H2-H3 heading structure for AI content parsin..., {"Add H2 headings with naturally asked questions from Google's '..., {"Comprehensive content audit using spoken search query optimiza..., {"meta": {"title": "", "cached": false, "realData": true, "wordC..., 2025-07-28 13:14:50.865382+00).`,
  hint: null,
  message: 'null value in column "consistency_score" of relation "analysis_results" violates not-null constraint'
}
 ✓ Compiled in 280ms (655 modules)
 GET / 200 in 78ms
 ✓ Compiled in 113ms (256 modules)
 GET / 200 in 10ms
 ✓ Compiled /api/analyze in 197ms (692 modules)
🔍 Analyzing https://newtest456.com with Firecrawl...
🔍 Crawling https://newtest456.com with Firecrawl...
 GET / 200 in 66ms
Firecrawl error details: {
  message: 'Failed to scrape URL. Status code: 500. Error: (Internal server error) - DNS resolution failed for hostname: newtest456.com. Please check if the domain is valid and accessible.',
  status: undefined,
  response: undefined,
  url: 'https://newtest456.com'
}
🏭 Detected industry for https://newtest456.com: general
📊 Benchmark for aiRecommendationRate in general: {
  industryAverage: 67,
  overallAverage: 58,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for competitiveRanking in general: {
  industryAverage: 71,
  overallAverage: 62,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for contentRelevance in general: {
  industryAverage: 75,
  overallAverage: 65,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for brandMentionQuality in general: {
  industryAverage: 68,
  overallAverage: 59,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for searchCompatibility in general: {
  industryAverage: 77,
  overallAverage: 67,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
📊 Benchmark for websiteAuthority in general: {
  industryAverage: 70,
  overallAverage: 61,
  sampleSize: 500,
  lastUpdated: '2024-01-15'
}
✅ newtest456.com scored 46 (Firecrawl analysis)
 POST /api/analyze 200 in 1291ms
💾 Saved analysis for newtest456.com to database
 ✓ Compiled in 159ms (948 modules)
 GET / 200 in 31ms
 ✓ Compiled in 279ms (948 modules)
 GET / 200 in 27ms
 ✓ Compiled in 63ms (256 modules)
 GET / 200 in 12ms
 GET / 200 in 25ms
 ✓ Compiled in 87ms (934 modules)
 GET / 200 in 28ms
 ✓ Compiled /api/debug-benchmark in 190ms (936 modules)
🏭 Industry detected for apple.com: technology
📊 Overall benchmark for technology: {
  industryAverage: 72,
  overallAverage: 62,
  sampleSize: 150,
  lastUpdated: '2024-01-15'
}
 GET /api/debug-benchmark?domain=apple.com 200 in 207ms
 ✓ Compiled in 737ms (256 modules)
 ✓ Compiled in 368ms (655 modules)
 ✓ Compiled in 178ms (655 modules)
 ✓ Compiled in 394ms (665 modules)
 ✓ Compiled in 140ms (259 modules)
 ✓ Compiled in 292ms (665 modules)
 ✓ Compiled in 112ms (669 modules)
 ✓ Compiled in 157ms (669 modules)
 ✓ Compiled in 181ms (669 modules)
 ✓ Compiled in 149ms (669 modules)
 ✓ Compiled in 177ms (669 modules)
 ✓ Compiled in 169ms (669 modules)
 ✓ Compiled in 231ms (669 modules)
 ✓ Compiled in 182ms (669 modules)
 ✓ Compiled in 189ms (669 modules)
 ✓ Compiled in 781ms (655 modules)
 ✓ Compiled /api/debug-ab in 451ms (675 modules)
 GET /api/debug-ab?domain=test.com&variant=budget 200 in 620ms
 ✓ Compiled in 251ms (689 modules)
 ✓ Compiled in 175ms (689 modules)
 ✓ Compiled in 373ms (669 modules)
 ✓ Compiled in 315ms (669 modules)
 ✓ Compiled in 109ms (669 modules)
 ✓ Compiled in 102ms (669 modules)
 ✓ Compiled in 85ms (669 modules)
 ✓ Compiled in 328ms (669 modules)
 ✓ Compiled in 275ms (669 modules)
 ✓ Compiled in 323ms (669 modules)
 ✓ Compiled in 592ms (669 modules)
 ✓ Compiled in 326ms (669 modules)
 ✓ Compiled in 329ms (669 modules)
